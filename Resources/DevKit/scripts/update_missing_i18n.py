#!/usr/bin/env python3
"""
Update missing i18n translations in Localizable.xcstrings.
This script adds missing English localizations and fixes 'new' state translations.
"""

import sys

from i18n_tools import (
    DEFAULT_KEEP_LANGUAGES,
    default_file_path,
    load_strings,
    print_update_summary,
    save_strings,
    update_missing_translations,
)

# Populate this map with explicit translations when introducing new keys.
# Format: {"Key": {"zh-Hans": "示例", "es": "Ejemplo"}}
NEW_STRINGS: dict[str, dict[str, str]] = {
    "%@ %@ %@": {
        "de": "%1$@ %2$@ %3$@",
        "es": "%1$@ %2$@ %3$@",
        "fr": "%1$@ %2$@ %3$@",
        "ja": "%1$@ %2$@ %3$@",
        "ko": "%1$@ %2$@ %3$@",
    },
    "%@ %@ %@ %@": {
        "de": "%1$@ %2$@ %3$@ %4$@",
        "es": "%1$@ %2$@ %3$@ %4$@",
        "fr": "%1$@ %2$@ %3$@ %4$@",
        "ja": "%1$@ %2$@ %3$@ %4$@",
        "ko": "%1$@ %2$@ %3$@ %4$@",
        "zh-Hans": "%1$@ %2$@ %3$@ %4$@",
    },
    "%@ %@ %@ per %@": {
        "de": "%1$@ %2$@ %3$@ pro %4$@",
        "es": "%1$@ %2$@ %3$@ por %4$@",
        "fr": "%1$@ %2$@ %3$@ par %4$@",
        "ja": "%1$@ %2$@ %3$@ %4$@あたり",
        "ko": "%1$@ %2$@ %3$@ %4$@당",
        "zh-Hans": "%1$@ %2$@ %3$@ 每%4$@",
    },
    "%@ will renew in %lld days.": {
        "de": "%1$@ wird in %2$lld Tagen verlängert.",
        "es": "%1$@ se renovará en %2$lld días.",
        "fr": "%1$@ sera renouvelé dans %2$lld jours.",
        "ja": "%1$@は%2$lld日後に更新されます。",
        "ko": "%1$@이(가) %2$lld일 후에 갱신됩니다.",
    },
    "%@ will renew in 2 weeks.": {
        "de": "%@ wird in 2 Wochen verlängert.",
        "es": "%@ se renovará en 2 semanas.",
        "fr": "%@ sera renouvelé dans 2 semaines.",
        "ja": "%@は2週間後に更新されます。",
        "ko": "%@이(가) 2주 후에 갱신됩니다.",
    },
    "%@ will renew in 3 days.": {
        "de": "%@ wird in 3 Tagen verlängert.",
        "es": "%@ se renovará en 3 días.",
        "fr": "%@ sera renouvelé dans 3 jours.",
        "ja": "%@は3日後に更新されます。",
        "ko": "%@이(가) 3일 후에 갱신됩니다.",
    },
    "%@ will renew next week.": {
        "de": "%@ wird nächste Woche verlängert.",
        "es": "%@ se renovará la próxima semana.",
        "fr": "%@ sera renouvelé la semaine prochaine.",
        "ja": "%@は来週更新されます。",
        "ko": "%@이(가) 다음 주에 갱신됩니다.",
    },
    "%@ will renew tomorrow.": {
        "de": "%@ wird morgen verlängert.",
        "es": "%@ se renovará mañana.",
        "fr": "%@ sera renouvelé demain.",
        "ja": "%@は明日更新されます。",
        "ko": "%@이(가) 내일 갱신됩니다.",
    },
    "%lld %@": {
        "de": "%1$lld %2$@",
        "es": "%1$lld %2$@",
        "fr": "%1$lld %2$@",
        "ja": "%1$lld%2$@",
        "ko": "%1$lld%2$@",
        "zh-Hans": "%1$lld%2$@",
    },
    "%lld days before": {
        "de": "%1$lld Tage vorher",
        "es": "%1$lld días antes",
        "fr": "%1$lld jours avant",
        "ja": "%1$lld日前",
        "ko": "%1$lld일 전",
    },
    "%lld days left": {
        "de": "Noch %1$lld Tage",
        "es": "Quedan %1$lld días",
        "fr": "%1$lld jours restants",
        "ja": "残り%1$lld日",
        "ko": "%1$lld일 남음",
    },
    "1 day before": {
        "de": "1 Tag vorher",
        "es": "1 día antes",
        "fr": "1 jour avant",
        "ja": "1日前",
        "ko": "1일 전",
    },
    "3 days before": {
        "de": "3 Tage vorher",
        "es": "3 días antes",
        "fr": "3 jours avant",
        "ja": "3日前",
        "ko": "3일 전",
    },
    "7 days": {
        "de": "7 Tage",
        "es": "7 días",
        "fr": "7 jours",
        "ja": "7日",
        "ko": "7일",
    },
    "7 days before": {
        "de": "7 Tage vorher",
        "es": "7 días antes",
        "fr": "7 jours avant",
        "ja": "7日前",
        "ko": "7일 전",
    },
    "14 days": {
        "de": "14 Tage",
        "es": "14 días",
        "fr": "14 jours",
        "ja": "14日",
        "ko": "14일",
    },
    "Add your first lifetime subscription to get started": {
        "de": "Fügen Sie Ihr erstes lebenslanges Abonnement hinzu, um loszulegen",
        "es": "Añade tu primera suscripción de por vida para empezar",
        "fr": "Ajoutez votre premier abonnement à vie pour commencer",
        "ja": "最初の買い切りサブスクリプションを追加して始めましょう",
        "ko": "시작하려면 첫 평생 구독을 추가하세요",
    },
    "Add your first subscription to get started": {
        "de": "Fügen Sie Ihr erstes Abonnement hinzu, um loszulegen",
        "es": "Añade tu primera suscripción para empezar",
        "fr": "Ajoutez votre premier abonnement pour commencer",
        "ja": "最初のサブスクリプションを追加して始めましょう",
        "ko": "시작하려면 첫 구독을 추가하세요",
    },
    "Are you sure you want to delete %@?": {
        "de": "Möchten Sie %@ wirklich löschen?",
        "es": "¿Seguro que quieres eliminar %@?",
        "fr": "Voulez-vous vraiment supprimer %@ ?",
        "ja": "%@を削除してもよろしいですか？",
        "ko": "%@을(를) 삭제하시겠습니까?",
    },
    "Billing Type": {
        "de": "Abrechnungsart",
        "es": "Tipo de facturación",
        "fr": "Type de facturation",
        "ja": "請求タイプ",
        "ko": "청구 유형",
        "zh-Hans": "计费类型",
    },
    "Cancel": {
        "de": "Abbrechen",
        "es": "Cancelar",
        "fr": "Annuler",
        "ja": "キャンセル",
        "ko": "취소",
    },
    "Cannot access the selected file": {
        "de": "Auf die ausgewählte Datei kann nicht zugegriffen werden",
        "es": "No se puede acceder al archivo seleccionado",
        "fr": "Impossible d’accéder au fichier sélectionné",
        "ja": "選択したファイルにアクセスできません",
        "ko": "선택한 파일에 접근할 수 없습니다",
        "zh-Hans": "无法访问所选文件",
    },
    "Confirm Reset": {
        "de": "Zurücksetzen bestätigen",
        "es": "Confirmar restablecimiento",
        "fr": "Confirmer la réinitialisation",
        "ja": "リセットを確認",
        "ko": "재설정 확인",
    },
    "Currency": {
        "de": "Währung",
        "es": "Moneda",
        "fr": "Devise",
        "ja": "通貨",
        "ko": "통화",
    },
    "Custom": {
        "de": "Benutzerdefiniert",
        "es": "Personalizado",
        "fr": "Personnalisé",
        "ja": "カスタム",
        "ko": "사용자 지정",
    },
    "Cycle": {
        "de": "Zyklus",
        "es": "Ciclo",
        "fr": "Cycle",
        "ja": "周期",
        "ko": "주기",
    },
    "day": {
        "de": "Tag",
        "es": "día",
        "fr": "jour",
        "ja": "日",
        "ko": "일",
    },
    "days": {
        "de": "Tage",
        "es": "días",
        "fr": "jours",
        "ja": "日",
        "ko": "일",
        "zh-Hans": "天",
    },
    "Delete": {
        "de": "Löschen",
        "es": "Eliminar",
        "fr": "Supprimer",
        "ja": "削除",
        "ko": "삭제",
    },
    "Delete Subscription": {
        "de": "Abonnement löschen",
        "es": "Eliminar suscripción",
        "fr": "Supprimer l’abonnement",
        "ja": "サブスクリプションを削除",
        "ko": "구독 삭제",
    },
    "Edit Subscription": {
        "de": "Abonnement bearbeiten",
        "es": "Editar suscripción",
        "fr": "Modifier l’abonnement",
        "ja": "サブスクリプションを編集",
        "ko": "구독 편집",
        "zh-Hans": "编辑订阅",
    },
    "Enable notifications to receive reminders. Tap to open notification settings.": {
        "de": "Aktivieren Sie Benachrichtigungen, um Erinnerungen zu erhalten. Tippen Sie, um die Benachrichtigungseinstellungen zu öffnen.",
        "es": "Activa las notificaciones para recibir recordatorios. Toca para abrir los ajustes de notificaciones.",
        "fr": "Activez les notifications pour recevoir des rappels. Touchez pour ouvrir les réglages de notifications.",
        "ja": "リマインダーを受け取るには通知を有効にしてください。タップして通知設定を開きます。",
        "ko": "리마인더를 받으려면 알림을 활성화하세요. 탭하여 알림 설정을 엽니다.",
    },
    "Enter price": {
        "de": "Preis eingeben",
        "es": "Introduce el precio",
        "fr": "Saisir le prix",
        "ja": "価格を入力",
        "ko": "가격 입력",
    },
    "Enter subscription name": {
        "de": "Abonnementnamen eingeben",
        "es": "Introduce el nombre de la suscripción",
        "fr": "Saisir le nom de l’abonnement",
        "ja": "サブスクリプション名を入力",
        "ko": "구독 이름 입력",
    },
    "Error": {
        "de": "Fehler",
        "es": "Error",
        "fr": "Erreur",
        "ja": "エラー",
        "ko": "오류",
    },
    "Every": {
        "de": "Alle",
        "es": "Cada",
        "fr": "Tous les",
        "ja": "毎",
        "ko": "매",
        "zh-Hans": "每",
    },
    "Every %lld %@": {
        "de": "Alle %1$lld %2$@",
        "es": "Cada %1$lld %2$@",
        "fr": "Tous les %1$lld %2$@",
        "ja": "毎%1$lld%2$@",
        "ko": "%1$lld%2$@마다",
        "zh-Hans": "每%1$lld%2$@",
    },
    "Export Failed": {
        "de": "Export fehlgeschlagen",
        "es": "Error al exportar",
        "fr": "Échec de l’exportation",
        "ja": "エクスポートに失敗しました",
        "ko": "내보내기 실패",
    },
    "Export Subscriptions": {
        "de": "Abonnements exportieren",
        "es": "Exportar suscripciones",
        "fr": "Exporter les abonnements",
        "ja": "サブスクリプションをエクスポート",
        "ko": "구독 내보내기",
    },
    "Failed to build rates URL": {
        "de": "URL für Wechselkurse konnte nicht erstellt werden",
        "es": "No se pudo crear la URL de tipos de cambio",
        "fr": "Impossible de créer l’URL des taux",
        "ja": "為替レートURLの作成に失敗しました",
        "ko": "환율 URL을 생성하지 못했습니다",
        "zh-Hans": "无法构建汇率 URL",
    },
    "Failed to encode subscriptions: %@": {
        "de": "Abonnements konnten nicht kodiert werden: %@",
        "es": "No se pudieron codificar las suscripciones: %@",
        "fr": "Impossible d’encoder les abonnements : %@",
        "ja": "サブスクリプションのエンコードに失敗しました：%@",
        "ko": "구독을 인코딩하지 못했습니다: %@",
        "zh-Hans": "无法编码订阅：%@",
    },
    "Failed to load rates (HTTP %lld)": {
        "de": "Wechselkurse konnten nicht geladen werden (HTTP %lld)",
        "es": "No se pudieron cargar los tipos de cambio (HTTP %lld)",
        "fr": "Impossible de charger les taux (HTTP %lld)",
        "ja": "為替レートの読み込みに失敗しました（HTTP %lld）",
        "ko": "환율을 불러오지 못했습니다 (HTTP %lld)",
        "zh-Hans": "加载汇率失败（HTTP %lld）",
    },
    "Failed to parse file: %@": {
        "de": "Datei konnte nicht geparst werden: %@",
        "es": "No se pudo analizar el archivo: %@",
        "fr": "Impossible d’analyser le fichier : %@",
        "ja": "ファイルを解析できませんでした：%@",
        "ko": "파일을 파싱하지 못했습니다: %@",
    },
    "Failed to read file: %@": {
        "de": "Datei konnte nicht gelesen werden: %@",
        "es": "No se pudo leer el archivo: %@",
        "fr": "Impossible de lire le fichier : %@",
        "ja": "ファイルを読み込めませんでした：%@",
        "ko": "파일을 읽지 못했습니다: %@",
    },
    "Failed to write export file: %@": {
        "de": "Exportdatei konnte nicht geschrieben werden: %@",
        "es": "No se pudo escribir el archivo de exportación: %@",
        "fr": "Impossible d’écrire le fichier d’exportation : %@",
        "ja": "エクスポートファイルを書き込めませんでした：%@",
        "ko": "내보내기 파일을 저장하지 못했습니다: %@",
        "zh-Hans": "无法写入导出文件：%@",
    },
    "For": {
        "de": "Für",
        "es": "Durante",
        "fr": "Pendant",
        "ja": "期間",
        "ko": "기간",
    },
    "Free Trial": {
        "de": "Kostenlose Testphase",
        "es": "Prueba gratuita",
        "fr": "Essai gratuit",
        "ja": "無料トライアル",
        "ko": "무료 체험",
    },
    "Import Failed": {
        "de": "Import fehlgeschlagen",
        "es": "Error al importar",
        "fr": "Échec de l’importation",
        "ja": "インポートに失敗しました",
        "ko": "가져오기 실패",
    },
    "Import Mode": {
        "de": "Importmodus",
        "es": "Modo de importación",
        "fr": "Mode d’importation",
        "ja": "インポートモード",
        "ko": "가져오기 모드",
    },
    "Import Subscriptions": {
        "de": "Abonnements importieren",
        "es": "Importar suscripciones",
        "fr": "Importer des abonnements",
        "ja": "サブスクリプションをインポート",
        "ko": "구독 가져오기",
    },
    "Import Successful": {
        "de": "Import erfolgreich",
        "es": "Importación exitosa",
        "fr": "Importation réussie",
        "ja": "インポートに成功しました",
        "ko": "가져오기 완료",
    },
    "Imported %lld subscriptions": {
        "de": "%lld Abonnements importiert",
        "es": "Se importaron %lld suscripciones",
        "fr": "%lld abonnements importés",
        "ja": "%lld件のサブスクリプションをインポートしました",
        "ko": "구독 %lld개를 가져왔습니다",
    },
    "Imported %lld, skipped %lld duplicates": {
        "de": "%1$lld importiert, %2$lld Duplikate übersprungen",
        "es": "Se importaron %1$lld, se omitieron %2$lld duplicados",
        "fr": "%1$lld importés, %2$lld doublons ignorés",
        "ja": "%1$lld件をインポートし、重複%2$lld件をスキップしました",
        "ko": "%1$lld개를 가져오고 중복 %2$lld개를 건너뛰었습니다",
    },
    "Invalid currency code": {
        "de": "Ungültiger Währungscode",
        "es": "Código de moneda no válido",
        "fr": "Code de devise invalide",
        "ja": "無効な通貨コード",
        "ko": "잘못된 통화 코드",
    },
    "Last Billing Date": {
        "de": "Letztes Abrechnungsdatum",
        "es": "Última fecha de facturación",
        "fr": "Dernière date de facturation",
        "ja": "前回の請求日",
        "ko": "마지막 청구일",
    },
    "Last billing date cannot be in the future": {
        "de": "Das letzte Abrechnungsdatum darf nicht in der Zukunft liegen",
        "es": "La última fecha de facturación no puede estar en el futuro",
        "fr": "La dernière date de facturation ne peut pas être dans le futur",
        "ja": "前回の請求日は未来にできません",
        "ko": "마지막 청구일은 미래일 수 없습니다",
    },
    "lifetime": {
        "de": "lebenslang",
        "es": "de por vida",
        "fr": "à vie",
        "ja": "買い切り",
        "ko": "평생",
        "zh-Hans": "终身",
    },
    "Lifetime": {
        "de": "Lebenslang",
        "es": "De por vida",
        "fr": "À vie",
        "ja": "買い切り",
        "ko": "평생",
        "zh-Hans": "终身",
    },
    "Merge": {
        "de": "Zusammenführen",
        "es": "Combinar",
        "fr": "Fusionner",
        "ja": "マージ",
        "ko": "병합",
    },
    "month": {
        "de": "Monat",
        "es": "mes",
        "fr": "mois",
        "ja": "か月",
        "ko": "개월",
    },
    "Monthly": {
        "de": "Monatlich",
        "es": "Mensual",
        "fr": "Mensuel",
        "ja": "毎月",
        "ko": "매월",
    },
    "months": {
        "de": "Monate",
        "es": "meses",
        "fr": "mois",
        "ja": "か月",
        "ko": "개월",
        "zh-Hans": "个月",
    },
    "New Subscription": {
        "de": "Neues Abonnement",
        "es": "Nueva suscripción",
        "fr": "Nouvel abonnement",
        "ja": "新規サブスクリプション",
        "ko": "새 구독",
        "zh-Hans": "新订阅",
    },
    "Next billing date will be on %@": {
        "de": "Das nächste Abrechnungsdatum ist %@",
        "es": "La próxima fecha de facturación será el %@",
        "fr": "La prochaine date de facturation sera le %@",
        "ja": "次回の請求日は%@です",
        "ko": "다음 청구일은 %@입니다",
        "zh-Hans": "下次计费日期为%@",
    },
    "No Lifetime Subscriptions": {
        "de": "Keine lebenslangen Abonnements",
        "es": "No hay suscripciones de por vida",
        "fr": "Aucun abonnement à vie",
        "ja": "買い切りサブスクリプションはありません",
        "ko": "평생 구독이 없습니다",
    },
    "No Subscriptions": {
        "de": "Keine Abonnements",
        "es": "No hay suscripciones",
        "fr": "Aucun abonnement",
        "ja": "サブスクリプションはありません",
        "ko": "구독이 없습니다",
    },
    "No subscriptions found in file": {
        "de": "Keine Abonnements in der Datei gefunden",
        "es": "No se encontraron suscripciones en el archivo",
        "fr": "Aucun abonnement trouvé dans le fichier",
        "ja": "ファイルにサブスクリプションが見つかりませんでした",
        "ko": "파일에서 구독을 찾을 수 없습니다",
    },
    "None": {
        "de": "Keine",
        "es": "Ninguno",
        "fr": "Aucun",
        "ja": "なし",
        "ko": "없음",
    },
    "Notifications are turned off. Tap to open notification settings.": {
        "de": "Benachrichtigungen sind deaktiviert. Tippen Sie, um die Benachrichtigungseinstellungen zu öffnen.",
        "es": "Las notificaciones están desactivadas. Toca para abrir los ajustes de notificaciones.",
        "fr": "Les notifications sont désactivées. Touchez pour ouvrir les réglages de notifications.",
        "ja": "通知がオフになっています。タップして通知設定を開きます。",
        "ko": "알림이 꺼져 있습니다. 탭하여 알림 설정을 엽니다.",
    },
    "OK": {
        "de": "OK",
        "es": "OK",
        "fr": "OK",
        "ja": "OK",
        "ko": "확인",
    },
    "Open Settings manually to enable notifications for SubZen.": {
        "de": "Öffnen Sie die Einstellungen manuell, um Benachrichtigungen für SubZen zu aktivieren.",
        "es": "Abre Ajustes manualmente para activar las notificaciones de SubZen.",
        "fr": "Ouvrez Réglages manuellement pour activer les notifications pour SubZen.",
        "ja": "SubZenの通知を有効にするには、設定を手動で開いてください。",
        "ko": "SubZen 알림을 활성화하려면 설정을 수동으로 열어주세요.",
    },
    "Opens notification settings.": {
        "de": "Öffnet die Benachrichtigungseinstellungen.",
        "es": "Abre los ajustes de notificaciones.",
        "fr": "Ouvre les réglages de notifications.",
        "ja": "通知設定を開きます。",
        "ko": "알림 설정을 엽니다.",
    },
    "Please enter a valid name.": {
        "de": "Bitte geben Sie einen gültigen Namen ein.",
        "es": "Introduce un nombre válido.",
        "fr": "Veuillez saisir un nom valide.",
        "ja": "有効な名前を入力してください。",
        "ko": "유효한 이름을 입력하세요.",
    },
    "Please enter a valid price.": {
        "de": "Bitte geben Sie einen gültigen Preis ein.",
        "es": "Introduce un precio válido.",
        "fr": "Veuillez saisir un prix valide.",
        "ja": "有効な価格を入力してください。",
        "ko": "유효한 가격을 입력하세요.",
    },
    "Price": {
        "de": "Preis",
        "es": "Precio",
        "fr": "Prix",
        "ja": "価格",
        "ko": "가격",
    },
    "Privacy Policy": {
        "de": "Datenschutzerklärung",
        "es": "Política de privacidad",
        "fr": "Politique de confidentialité",
        "ja": "プライバシーポリシー",
        "ko": "개인정보 처리방침",
        "zh-Hans": "隐私政策",
    },
    "Privacy policy not found. Please check your installation.": {
        "de": "Datenschutzerklärung nicht gefunden. Bitte überprüfen Sie Ihre Installation.",
        "es": "No se encontró la política de privacidad. Revisa tu instalación.",
        "fr": "Politique de confidentialité introuvable. Veuillez vérifier votre installation.",
        "ja": "プライバシーポリシーが見つかりません。インストールを確認してください。",
        "ko": "개인정보 처리방침을 찾을 수 없습니다. 설치 상태를 확인하세요.",
        "zh-Hans": "未找到隐私政策。请检查安装是否完整。",
    },
    "Purchase Date": {
        "de": "Kaufdatum",
        "es": "Fecha de compra",
        "fr": "Date d’achat",
        "ja": "購入日",
        "ko": "구매일",
        "zh-Hans": "购买日期",
    },
    "Remind Me": {
        "de": "Erinnerung",
        "es": "Recordatorio",
        "fr": "Rappel",
        "ja": "リマインド",
        "ko": "알림",
    },
    "Replace": {
        "de": "Ersetzen",
        "es": "Reemplazar",
        "fr": "Remplacer",
        "ja": "置き換え",
        "ko": "교체",
    },
    "Reset": {
        "de": "Zurücksetzen",
        "es": "Restablecer",
        "fr": "Réinitialiser",
        "ja": "リセット",
        "ko": "재설정",
    },
    "Reset All Data": {
        "de": "Alle Daten zurücksetzen",
        "es": "Restablecer todos los datos",
        "fr": "Réinitialiser toutes les données",
        "ja": "すべてのデータをリセット",
        "ko": "모든 데이터 재설정",
    },
    "Reset Failed": {
        "de": "Zurücksetzen fehlgeschlagen",
        "es": "Error al restablecer",
        "fr": "Échec de la réinitialisation",
        "ja": "リセットに失敗しました",
        "ko": "재설정 실패",
    },
    "Save": {
        "de": "Speichern",
        "es": "Guardar",
        "fr": "Enregistrer",
        "ja": "保存",
        "ko": "저장",
    },
    "Search code or name": {
        "de": "Code oder Name suchen",
        "es": "Buscar código o nombre",
        "fr": "Rechercher le code ou le nom",
        "ja": "コードまたは名前を検索",
        "ko": "코드 또는 이름 검색",
    },
    "Select": {
        "de": "Auswählen",
        "es": "Seleccionar",
        "fr": "Sélectionner",
        "ja": "選択",
        "ko": "선택",
    },
    "Select Currency": {
        "de": "Währung auswählen",
        "es": "Seleccionar moneda",
        "fr": "Sélectionner une devise",
        "ja": "通貨を選択",
        "ko": "통화 선택",
    },
    "Selected currency: %@ %@": {
        "de": "Ausgewählte Währung: %1$@ %2$@",
        "es": "Moneda seleccionada: %1$@ %2$@",
        "fr": "Devise sélectionnée : %1$@ %2$@",
        "ja": "選択した通貨：%1$@ %2$@",
        "ko": "선택한 통화: %1$@ %2$@",
    },
    "Send Debug Renewal Notifications": {
        "de": "Debug-Erneuerungsbenachrichtigungen senden",
        "es": "Enviar notificaciones de renovación (depuración)",
        "fr": "Envoyer des notifications de renouvellement (debug)",
        "ja": "デバッグ更新通知を送信",
        "ko": "디버그 갱신 알림 보내기",
        "zh-Hans": "发送调试续订通知",
    },
    "Setting": {
        "de": "Einstellungen",
        "es": "Ajustes",
        "fr": "Réglages",
        "ja": "設定",
        "ko": "설정",
    },
    "Settings Unavailable": {
        "de": "Einstellungen nicht verfügbar",
        "es": "Ajustes no disponibles",
        "fr": "Réglages indisponibles",
        "ja": "設定を利用できません",
        "ko": "설정을 사용할 수 없습니다",
    },
    "Subscription": {
        "de": "Abonnement",
        "es": "Suscripción",
        "fr": "Abonnement",
        "ja": "サブスクリプション",
        "ko": "구독",
        "zh-Hans": "订阅",
    },
    "Subscription Name": {
        "de": "Abonnementname",
        "es": "Nombre de la suscripción",
        "fr": "Nom de l’abonnement",
        "ja": "サブスクリプション名",
        "ko": "구독 이름",
    },
    "Subscription name cannot be empty": {
        "de": "Der Abonnementname darf nicht leer sein",
        "es": "El nombre de la suscripción no puede estar vacío",
        "fr": "Le nom de l’abonnement ne peut pas être vide",
        "ja": "サブスクリプション名は空にできません",
        "ko": "구독 이름은 비워둘 수 없습니다",
    },
    "Subscription price must be greater than 0": {
        "de": "Der Abonnementpreis muss größer als 0 sein",
        "es": "El precio de la suscripción debe ser mayor que 0",
        "fr": "Le prix de l’abonnement doit être supérieur à 0",
        "ja": "サブスクリプションの価格は0より大きい必要があります",
        "ko": "구독 가격은 0보다 커야 합니다",
    },
    "Subscription Reminder": {
        "de": "Abonnement-Erinnerung",
        "es": "Recordatorio de suscripción",
        "fr": "Rappel d’abonnement",
        "ja": "サブスクリプションのリマインダー",
        "ko": "구독 알림",
    },
    "Subscription Renews in 2 Weeks": {
        "de": "Abonnement wird in 2 Wochen verlängert",
        "es": "La suscripción se renueva en 2 semanas",
        "fr": "L’abonnement se renouvelle dans 2 semaines",
        "ja": "サブスクリプションは2週間後に更新",
        "ko": "구독이 2주 후 갱신됨",
    },
    "Subscription Renews in 3 Days": {
        "de": "Abonnement wird in 3 Tagen verlängert",
        "es": "La suscripción se renueva en 3 días",
        "fr": "L’abonnement se renouvelle dans 3 jours",
        "ja": "サブスクリプションは3日後に更新",
        "ko": "구독이 3일 후 갱신됨",
    },
    "Subscription Renews Next Week": {
        "de": "Abonnement wird nächste Woche verlängert",
        "es": "La suscripción se renueva la próxima semana",
        "fr": "L’abonnement se renouvelle la semaine prochaine",
        "ja": "サブスクリプションは来週更新",
        "ko": "구독이 다음 주에 갱신됨",
    },
    "Subscription Renews Tomorrow!": {
        "de": "Abonnement wird morgen verlängert!",
        "es": "¡La suscripción se renueva mañana!",
        "fr": "L’abonnement se renouvelle demain !",
        "ja": "サブスクリプションは明日更新！",
        "ko": "구독이 내일 갱신됩니다!",
    },
    "SubZen": {
        "de": "SubZen",
        "es": "SubZen",
        "fr": "SubZen",
        "ja": "SubZen",
        "ko": "SubZen",
    },
    "Tap Reset to erase all data and restart the app.": {
        "de": "Tippen Sie auf „Zurücksetzen“, um alle Daten zu löschen und die App neu zu starten.",
        "es": "Toca Restablecer para borrar todos los datos y reiniciar la app.",
        "fr": "Touchez Réinitialiser pour effacer toutes les données et redémarrer l’app.",
        "ja": "「リセット」をタップすると、すべてのデータが消去され、アプリが再起動されます。",
        "ko": "재설정을 탭하면 모든 데이터가 삭제되고 앱이 다시 시작됩니다.",
    },
    "This action cannot be undone.": {
        "de": "Diese Aktion kann nicht rückgängig gemacht werden.",
        "es": "Esta acción no se puede deshacer.",
        "fr": "Cette action est irréversible.",
        "ja": "この操作は取り消せません。",
        "ko": "이 작업은 되돌릴 수 없습니다.",
    },
    "Today!": {
        "de": "Heute!",
        "es": "¡Hoy!",
        "fr": "Aujourd’hui !",
        "ja": "今日！",
        "ko": "오늘!",
    },
    "Trial ends on %@": {
        "de": "Testphase endet am %@",
        "es": "La prueba termina el %@",
        "fr": "Fin de l’essai le %@",
        "ja": "トライアルは%@に終了します",
        "ko": "체험은 %@에 종료됩니다",
    },
    "Unexpected response when loading rates": {
        "de": "Unerwartete Antwort beim Laden der Wechselkurse",
        "es": "Respuesta inesperada al cargar los tipos de cambio",
        "fr": "Réponse inattendue lors du chargement des taux",
        "ja": "為替レートの読み込み中に予期しない応答がありました",
        "ko": "환율을 불러오는 중 예상치 못한 응답이 발생했습니다",
        "zh-Hans": "加载汇率时收到意外响应",
    },
    "Unsupported base currency": {
        "de": "Nicht unterstützte Basiswährung",
        "es": "Moneda base no compatible",
        "fr": "Devise de base non prise en charge",
        "ja": "サポートされていない基準通貨",
        "ko": "지원되지 않는 기준 통화",
        "zh-Hans": "不支持的基准货币",
    },
    "Unsupported file version: %lld": {
        "de": "Nicht unterstützte Dateiversion: %lld",
        "es": "Versión de archivo no compatible: %lld",
        "fr": "Version de fichier non prise en charge : %lld",
        "ja": "未対応のファイルバージョン：%lld",
        "ko": "지원되지 않는 파일 버전: %lld",
    },
    "Version %@ (%d)": {
        "de": "Version %1$@ (%2$d)",
        "es": "Versión %1$@ (%2$d)",
        "fr": "Version %1$@ (%2$d)",
        "ja": "バージョン %1$@（%2$d）",
        "ko": "버전 %1$@ (%2$d)",
        "zh-Hans": "版本 %1$@ (%2$d)",
    },
    "week": {
        "de": "Woche",
        "es": "semana",
        "fr": "semaine",
        "ja": "週",
        "ko": "주",
    },
    "Weekly": {
        "de": "Wöchentlich",
        "es": "Semanal",
        "fr": "Hebdomadaire",
        "ja": "毎週",
        "ko": "매주",
    },
    "weeks": {
        "de": "Wochen",
        "es": "semanas",
        "fr": "semaines",
        "ja": "週",
        "ko": "주",
        "zh-Hans": "周",
    },
    "year": {
        "de": "Jahr",
        "es": "año",
        "fr": "an",
        "ja": "年",
        "ko": "년",
    },
    "Yearly": {
        "de": "Jährlich",
        "es": "Anual",
        "fr": "Annuel",
        "ja": "毎年",
        "ko": "매년",
    },
    "years": {
        "de": "Jahre",
        "es": "años",
        "fr": "ans",
        "ja": "年",
        "ko": "년",
        "zh-Hans": "年",
    },
}

if __name__ == "__main__":
    file_path = sys.argv[1] if len(sys.argv) > 1 else default_file_path()

    data = load_strings(file_path)
    counts = update_missing_translations(
        data,
        new_strings=NEW_STRINGS,
        keep_languages=DEFAULT_KEEP_LANGUAGES,
    )
    save_strings(file_path, data)

    print_update_summary(file_path, counts)
